<where></where>
可以自动去掉条件中的第一个and,所以我们拼接sql条件的时候，只需要统一加上and
--------------------------------------------------------------------
<if></if>
if判断拼接sql条件之前，需要先判断实体类是否为null，可以有效避免空指针。
<if test="userCustom!=null">
	<if test="userCustom.sex!=null and userCustom.sex!=''">
		and user.sex = #{userCustom.sex}
	</if>
</if>
--------------------------------------------------------------------
<sql id=""></sql>
将公用的代码块抽取，组成一个sql片段，以便可以引用。
经验：
1.一般涉及同个表查询的sql条件拼接，可以使用sql片段。
如：涉及关联查询时，要拼接sql条件，如果涉及三个表，则定义
   三个sql片段，将单表的sql条件片段抽取出来。
2.sql片段中，一般不要写<where></where>
--------------------------------------------------------------------
<foreach></foreach>
如果要向sql中传递List或者数组，则需要用到。

<!-- 使用 foreach遍历传入ids
collection：指定输入 对象中集合属性
item：每个遍历生成对象中
open：开始遍历时拼接的串
close：结束遍历时拼接的串
separator：遍历的两个对象中需要拼接的串
 -->
 <!-- 使用实现下边的sql拼接：
  AND (id=1 OR id=10 OR id=16) 
  -->
<foreach collection="ids" item="user_id" open="AND (" close=")" separator="or">
	<!-- 每个遍历需要拼接的串 -->
	id=#{user_id}
</foreach>







<select id="findUserList" parameterType="UserQueryVo" 
			resultType="UserCustom">
SELECT * FROM USER
	<!-- 
	where可以自动去掉条件中的第一个and
	 -->
	<where>
		<!-- 引用sql片段 的id，如果refid指定的id不在本mapper文件中，需要前边加namespace -->
		<include refid="query_user_where"></include>
		<!-- 在这里还要引用其它的sql片段  -->
	</where>
</select>

<sql id="query_user_where">
	<if test="userCustom!=null">
		<if test="userCustom.sex!=null and userCustom.sex!=''">
			and user.sex = #{userCustom.sex}
		</if>
		<if test="userCustom.username!=null and userCustom.username!=''">
			and user.username LIKE '%${userCustom.username}%'
		</if>
		<if test="ids!=null">
		<!-- 使用 foreach遍历传入ids
		collection：指定输入 对象中集合属性
		item：每个遍历生成对象中
		open：开始遍历时拼接的串
		close：结束遍历时拼接的串
		separator：遍历的两个对象中需要拼接的串
		 -->
		 <!-- 使用实现下边的sql拼接：
		  AND (id=1 OR id=10 OR id=16) 
		  -->
		<foreach collection="ids" item="user_id" open="AND (" close=")" separator="or">
			<!-- 每个遍历需要拼接的串 -->
			id=#{user_id}
		</foreach>
		
		<!-- 实现  “ and id IN(1,10,16)”拼接 -->
		<!-- <foreach collection="ids" item="user_id" open="and id IN(" close=")" separator=",">
			每个遍历需要拼接的串
			#{user_id}
		</foreach> -->
		
		</if>
	</if>
</sql>